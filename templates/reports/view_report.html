{% extends 'reports/base.html' %}

{% block title %}reports view{% endblock %}

{% block content %}

<h1>reports view</h1>

<section>

  <h2>Filters</h2>

  <form action="{% url 'reports:view_report' %}" method="get" class="form">
    {% comment %}
    <!-- This gets in the way of saving queries by GET URI. -->
    <!-- csrf vulnerability: Cross-site DoS by spamming queries. -->
    <!-- Probably not a serious concern. -->
    {% csrf_token %}
    {% endcomment %}

    {{ form }}

    <button type="submit">Set filters</button>
  </form>
</section>

<table>
  <thead>
    <tr>
      <td>Template</td>
      <td>Field</td>
      <td>Count</td>
      <td>Percentage</td>
    </tr>
  </thead>
  <tbody>
    {% for row in data %}
    <tr>
      {% for cell in row %}
      <td>{{ cell }}</td>
      {% endfor %}
    </tr>
    {% endfor %}
  </tbody>
</table>

{% endblock %}
